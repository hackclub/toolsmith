<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Guide - Toolsmith</title>
    <link rel="stylesheet" href="/tw.css" />
  </head>

  <body>
    <!-- Mobile header (shown only on mobile) -->
    <div
      class="lg:hidden border-b border-gray-300 h-16 flex items-center px-6 text-xl z-50 bg-white relative"
    >
      <!-- Mobile menu button -->
      <button
        id="mobile-menu-btn"
        class="mr-4 p-2 rounded-lg hover:bg-gray-100"
      >
        <svg
          class="size-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"
          ></path>
        </svg>
      </button>

      <!-- Page title -->
      <p class="grow">Getting started</p>

      <button onclick="copyToClipboard()" class="hover:bg-gray-100 rounded p-1">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 16 16"
          fill="currentColor"
          class="size-6"
        >
          <path
            d="M12 6a2 2 0 1 0-1.994-1.842L5.323 6.5a2 2 0 1 0 0 3l4.683 2.342a2 2 0 1 0 .67-1.342L5.995 8.158a2.03 2.03 0 0 0 0-.316L10.677 5.5c.353.311.816.5 1.323.5Z"
          />
        </svg>
      </button>
    </div>

    <div class="flex h-[calc(100vh-4rem)] lg:h-screen">
      <!-- Sidebar -->
      <div
        id="sidebar"
        class="bg-gray-100 flex flex-col w-64 fixed lg:relative h-[calc(100vh-4rem)] lg:h-full z-30 transform -translate-x-full lg:translate-x-0 transition-transform duration-300 ease-in-out top-16 lg:top-0"
      >
        <div class="h-16 flex items-center px-5 space-x-2 text-lg">
          <div
            class="size-9 bg-emerald-500 flex items-center justify-center rounded-full text-white"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              class="size-5"
            >
              <path
                fill="currentColor"
                d="M12 14c-2.42 0-4.7-.6-6-1.55V9.64c1.47.83 3.61 1.36 6 1.36s4.53-.53 6-1.36v2.44c.33-.05.66-.08 1-.08s.67.03 1 .08V7c0-2.21-3.58-4-8-4S4 4.79 4 7v10c0 2.21 3.59 4 8 4h.29a7.4 7.4 0 0 1-.29-2c-3.87 0-6-1.5-6-2v-2.23c1.61.78 3.72 1.23 6 1.23c.24 0 .47 0 .7-.03c.4-.83.95-1.56 1.62-2.16c-.74.12-1.52.19-2.32.19m0-9c3.87 0 6 1.5 6 2s-2.13 2-6 2s-6-1.5-6-2s2.13-2 6-2m10.7 14.6v-1l1.1-.8c.1-.1.2-.2.1-.3l-1-1.7c0-.1-.2-.1-.3-.1l-1.2.5c-.3-.2-.6-.4-.9-.5l-.2-1.3c0-.1-.1-.2-.2-.2h-2c-.2 0-.3.1-.3.2l-.2 1.3c-.3.2-.5.3-.8.5l-1.2-.5c-.1 0-.2 0-.3.1l-1 1.7c0 .1 0 .2.1.3l1.1.8v1l-1.1.8c-.1.1-.2.2-.1.3l1 1.7c.1.1.2.1.3.1l1.2-.5c.2.2.5.4.8.5l.2 1.3c.1.1.2.2.3.2h2c.1 0 .2-.1.2-.2l.2-1.3c.3-.2.5-.3.8-.5l1.2.4c.1 0 .2 0 .3-.1l1-1.7c.1-.1.1-.2 0-.2zm-3.7.9c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5s1.5.7 1.5 1.5s-.7 1.5-1.5 1.5"
              />
            </svg>
          </div>
          <p>Toolsmith</p>
        </div>
        <a
          href="/gallary.html"
          class="hover:bg-gray-200 flex items-center mx-2 rounded-lg px-4 py-3 space-x-3 my-1"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M2.25 7.125C2.25 6.504 2.754 6 3.375 6h6c.621 0 1.125.504 1.125 1.125v3.75c0 .621-.504 1.125-1.125 1.125h-6a1.125 1.125 0 0 1-1.125-1.125v-3.75ZM14.25 8.625c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v8.25c0 .621-.504 1.125-1.125 1.125h-5.25a1.125 1.125 0 0 1-1.125-1.125v-8.25ZM3.75 16.125c0-.621.504-1.125 1.125-1.125h5.25c.621 0 1.125.504 1.125 1.125v2.25c0 .621-.504 1.125-1.125 1.125h-5.25a1.125 1.125 0 0 1-1.125-1.125v-2.25Z"
            />
          </svg>
          <p>Gallary</p>
        </a>
        <a
          href="https://forms.hackclub.com/toolsmith-submit"
          class="bg-gradient-to-r from-emerald-100 to-teal-100 hover:from-emerald-200 hover:to-teal-200 text-emerald-700 flex items-center mx-2 rounded-lg px-4 py-3 space-x-3 my-1 cursor-pointer transform hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md border border-emerald-200"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="2"
            stroke="currentColor"
            class="size-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"
            />
          </svg>
          <p class="font-bold">Submit!! üöÄ</p>
        </a>
        <p class="mx-6 text-gray-600 mt-4 mb-1">Chats</p>
        <div>
          <a
            href="/"
            class="hover:bg-gray-200 flex items-center mx-2 rounded-lg px-4 py-3 space-x-3"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="size-6"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"
              />
            </svg>

            <p>What is this?</p>
          </a>
          <a
            href="/guide.html"
            class="bg-gray-200 flex items-center mx-2 rounded-lg px-4 py-3 space-x-3"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="size-6"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"
              />
            </svg>

            <p>Guide</p>
          </a>
        </div>
        
        <!-- Footer -->
        <div class="mt-auto p-4 border-t border-gray-300">
          <p class="text-center text-sm text-gray-500">
            Made with ‚ù§Ô∏è by <a href="https://hackclub.com" class="text-emerald-600 hover:text-emerald-700 underline" target="_blank">Hack Club</a>
          </p>
        </div>
      </div>

      <!-- Main content -->
      <div class="flex flex-col flex-1 relative">
        <div
          class="border-b border-gray-300 h-16 items-center px-6 text-xl z-10 bg-white flex-shrink-0 hidden lg:flex"
        >
          <p class="grow">Getting started</p>
          <button
            onclick="copyToClipboard()"
            class="hover:bg-gray-100 rounded p-1"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 16 16"
              fill="currentColor"
              class="size-6"
            >
              <path
                d="M12 6a2 2 0 1 0-1.994-1.842L5.323 6.5a2 2 0 1 0 0 3l4.683 2.342a2 2 0 1 0 .67-1.342L5.995 8.158a2.03 2.03 0 0 0 0-.316L10.677 5.5c.353.311.816.5 1.323.5Z"
              />
            </svg>
          </button>
        </div>
        <div class="flex-1 overflow-y-auto pb-32">
          <div
            id="guide-container"
            class="w-full max-w-4xl mx-auto px-4 lg:px-10 mt-12 flex flex-col text-lg pb-8"
          >
            <div class="prose prose-lg max-w-none">
              <h1 class="text-4xl font-bold text-gray-900 mb-8">Let's Build a Weather Tool with MCP and an AI Client</h1>
              
              <p class="text-xl text-gray-600 mb-8">Want to teach an AI how to check the weather? You're in the right place. This guide walks you through building a simple tool using the Model Context Protocol (MCP), which lets your code talk directly to AI assistants.</p>
              
              <p class="text-lg text-gray-600 mb-8">We'll use Claude Desktop as an example AI client in this guide because it has built-in support for MCP ‚Äî but the tool you build can work with any AI that understands MCP, like ChatGPT Desktop or Raycast AI, for example.</p>

              <hr class="my-8 border-gray-300">

              <h2 class="text-3xl font-bold text-gray-900 mb-6">Setup Hackatime</h2>
              
              <p class="mb-4">You'll need to use Hackatime to track your coding time. Hackatime works on all major code editors.</p>
              
              <p class="mb-6">Set it up with the instructions here: <a href="https://hackatime.hackclub.com" class="text-blue-600 hover:text-blue-800 underline" target="_blank">https://hackatime.hackclub.com</a></p>

              <hr class="my-8 border-gray-300">

              <h2 class="text-3xl font-bold text-gray-900 mb-6">What is MCP?</h2>
              
              <p class="mb-4">In short, MCP (Model Context Protocol) servers allow AI to connect to real tools. Think of it as USB ports for AI apps.</p>
              
              <p class="mb-4">Here's how it works:</p>
              
              <ul class="mb-6 space-y-2">
                <li>You define what inputs your tool needs</li>
                <li>You write a function that does something useful with those inputs</li>
                <li>MCP acts as the bridge so the AI can understand how to use it</li>
              </ul>

              <hr class="my-8 border-gray-300">

              <h2 class="text-3xl font-bold text-gray-900 mb-6">Setting Up Your Project</h2>
              
              <p class="mb-4">We'll be writing this in JavaScript with NodeJS. You can install NodeJS from <a href="https://nodejs.org/" class="text-blue-600 hover:text-blue-800 underline" target="_blank">https://nodejs.org/</a></p>
              
              <p class="mb-4">I'm going to call my project <code class="bg-gray-100 px-2 py-1 rounded">mcp-weather-server</code>.</p>
              
              <p class="mb-4">In a new folder called your project name, let's initialize a project.</p>
              
              <div class="bg-gray-900 text-green-400 p-4 rounded-lg mb-6 font-mono text-sm overflow-x-auto">
npm init -y
              </div>
              
              <p class="mb-4">Install the MCP SDK:</p>
              
              <div class="bg-gray-900 text-green-400 p-4 rounded-lg mb-6 font-mono text-sm overflow-x-auto">
npm install @modelcontextprotocol/sdk
              </div>
              
              <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-6">
                <p class="text-blue-800">If you're on an older Node version (&lt;18.0.0), run <code class="bg-blue-100 px-2 py-1 rounded">npm install node-fetch</code> as well.</p>
              </div>

              <hr class="my-8 border-gray-300">

              <h2 class="text-3xl font-bold text-gray-900 mb-6">Writing Your Tool</h2>
              
              <p class="mb-4">Create a file called <code class="bg-gray-100 px-2 py-1 rounded">index.js</code>. We'll build this step-by-step.</p>

              <h3 class="text-2xl font-bold text-gray-900 mb-4">1. Import the libraries</h3>
              
              <div class="bg-gray-900 text-gray-100 p-4 rounded-lg mb-6 font-mono text-sm overflow-x-auto">
<span class="text-blue-400">import</span> { McpServer } <span class="text-blue-400">from</span> <span class="text-green-400">"@modelcontextprotocol/sdk/server/mcp.js"</span>;<br>
<span class="text-blue-400">import</span> { StdioServerTransport } <span class="text-blue-400">from</span> <span class="text-green-400">"@modelcontextprotocol/sdk/server/stdio.js"</span>;<br>
<span class="text-blue-400">import</span> { z } <span class="text-blue-400">from</span> <span class="text-green-400">"zod"</span>;
              </div>

              <h3 class="text-2xl font-bold text-gray-900 mb-4">2. Create the MCP server</h3>
              
              <div class="bg-gray-900 text-gray-100 p-4 rounded-lg mb-6 font-mono text-sm overflow-x-auto">
<span class="text-blue-400">const</span> server = <span class="text-blue-400">new</span> <span class="text-yellow-400">McpServer</span>({<br>
&nbsp;&nbsp;name: <span class="text-green-400">"mcp-weather-server"</span>,<br>
&nbsp;&nbsp;version: <span class="text-green-400">"1.0.0"</span><br>
});
              </div>

              <h3 class="text-2xl font-bold text-gray-900 mb-4">3. Define what input the tool expects</h3>
              
              <p class="mb-4">The input schema defines what the AI should input to your tool.</p>
              
              <p class="mb-4">In this case: a city name.</p>
              
              <div class="bg-gray-900 text-gray-100 p-4 rounded-lg mb-6 font-mono text-sm overflow-x-auto">
<span class="text-blue-400">const</span> inputSchema = {<br>
&nbsp;&nbsp;city: z.<span class="text-yellow-400">string</span>().<span class="text-yellow-400">describe</span>(<span class="text-green-400">"The city to get the weather for. Needs to be a big city."</span>)<br>
};
              </div>
              
              <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-6">
                <p class="text-blue-800"><strong>Side note:</strong> You can make fields optional in the schema by using <code class="bg-blue-100 px-2 py-1 rounded">.optional()</code> in Zod. For example: <code class="bg-blue-100 px-2 py-1 rounded">z.string().optional()</code> would make that input not required. This can be useful if your tool supports multiple input paths or you want to provide fallback behavior.</p>
              </div>

              <h3 class="text-2xl font-bold text-gray-900 mb-4">4. Write the function that does the work</h3>
              
              <div class="bg-gray-900 text-gray-100 p-4 rounded-lg mb-6 font-mono text-sm overflow-x-auto">
<span class="text-blue-400">async function</span> <span class="text-yellow-400">getWeather</span>({ city }) {<br>
&nbsp;&nbsp;<span class="text-blue-400">const</span> response = <span class="text-blue-400">await</span> <span class="text-yellow-400">fetch</span>(`https://goweather.xyz/weather/${city.<span class="text-yellow-400">toLowerCase</span>()}`);<br>
&nbsp;&nbsp;<span class="text-blue-400">if</span> (!response.ok) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="text-blue-400">throw new</span> <span class="text-yellow-400">Error</span>(`Couldn't get weather for ${city}`);<br>
&nbsp;&nbsp;}<br>
<br>
&nbsp;&nbsp;<span class="text-blue-400">const</span> data = <span class="text-blue-400">await</span> response.<span class="text-yellow-400">json</span>();<br>
<br>
&nbsp;&nbsp;<span class="text-blue-400">return</span> {<br>
&nbsp;&nbsp;&nbsp;&nbsp;content: [{ type: <span class="text-green-400">"text"</span>, text: JSON.<span class="text-yellow-400">stringify</span>(data) }]<br>
&nbsp;&nbsp;};<br>
}
              </div>
              
              <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-6">
                <p class="text-blue-800">If you need to add additional fields, just expand the parameters of the function. For example: <code class="bg-blue-100 px-2 py-1 rounded">getWeather({ city, isMetric })</code>.</p>
              </div>

              <h3 class="text-2xl font-bold text-gray-900 mb-4">5. Register the tool</h3>
              
              <p class="mb-4">Now connect the schema and the function together and register it to our server so it can be accessed.</p>
              
              <div class="bg-gray-900 text-gray-100 p-4 rounded-lg mb-6 font-mono text-sm overflow-x-auto">
server.<span class="text-yellow-400">registerTool</span>(<span class="text-green-400">"weather"</span>, {<br>
&nbsp;&nbsp;title: <span class="text-green-400">"Weather Tool"</span>,<br>
&nbsp;&nbsp;description: <span class="text-green-400">"Get the weather for a city"</span>,<br>
&nbsp;&nbsp;inputSchema,<br>
}, getWeather);
              </div>

              <h3 class="text-2xl font-bold text-gray-900 mb-4">6. Start the MCP server</h3>
              
              <p class="mb-4">There are multiple transport methods for MCP servers (how your AI connects to the MCP server).</p>
              
              <p class="mb-4">We'll be using StdioServerTransport, which works great locally.</p>
              
              <div class="bg-gray-900 text-gray-100 p-4 rounded-lg mb-6 font-mono text-sm overflow-x-auto">
<span class="text-blue-400">const</span> transport = <span class="text-blue-400">new</span> <span class="text-yellow-400">StdioServerTransport</span>();<br>
<span class="text-blue-400">await</span> server.<span class="text-yellow-400">connect</span>(transport);
              </div>

              <hr class="my-8 border-gray-300">

              <h2 class="text-3xl font-bold text-gray-900 mb-6">Testing it locally</h2>
              
              <p class="mb-4">MCP comes with a really cool inspector. To run it, simply enter the following command:</p>
              
              <div class="bg-gray-900 text-green-400 p-4 rounded-lg mb-6 font-mono text-sm overflow-x-auto">
npx @modelcontextprotocol/inspector node index.js
              </div>
              
              <p class="mb-6">You'll get a URL in the console that you can open. Simply click the connect button on the bottom left!</p>

              <hr class="my-8 border-gray-300">

              <h2 class="text-3xl font-bold text-gray-900 mb-6">Testing It in Claude Desktop (or another AI Client)</h2>
              
              <p class="mb-4">If you're using Claude Desktop:</p>
              
              <ol class="mb-6 space-y-3">
                <li>Open settings found in the top left (not by clicking your user name)</li>
                <li>In the Developer tab, click "Edit Config" ‚Äî a file should pop up!</li>
                <li>Open the config file in VS Code or the editor of your choice</li>
                <li>We need to build a config file that tells Claude how to access our MCP server for local testing
                  <div class="bg-gray-900 text-gray-100 p-4 rounded-lg mt-2 font-mono text-sm overflow-x-auto">
{<br>
&nbsp;&nbsp;<span class="text-green-400">"mcpServers"</span>: {<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="text-green-400">"weather"</span>: {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="text-green-400">"command"</span>: <span class="text-yellow-400">"node"</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="text-green-400">"args"</span>: [<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="text-yellow-400">"/path/to/mcp-weather-server/index.js"</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;}<br>
}
                  </div>
                </li>
              </ol>
              
              <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-6">
                <p class="text-blue-800">If you need environment variables (for API keys, configs, etc.), you can define them in the config <a href="https://modelcontextprotocol.io/docs/tools/debugging#environment-variables" class="text-blue-600 hover:text-blue-800 underline" target="_blank">like this</a></p>
              </div>
              
              <ol start="5" class="mb-6 space-y-3">
                <li>Quit and re-open Claude Desktop</li>
                <li>If you go back to the Developer tab, your MCP server should show up</li>
                <li>Try it out! Ask Claude something like: "What's the weather in Berlin?"</li>
              </ol>
              
              <p class="mb-6">If all goes well, Claude should show the result returned by your tool. Other AI clients that support MCP may offer similar functionality.</p>

              <hr class="my-8 border-gray-300">

              <h2 class="text-3xl font-bold text-gray-900 mb-6">Packaging and Publishing Your Tool</h2>
              
              <p class="mb-4">We need to package and publish our MCP server to make it easy for others to use.</p>

              <h3 class="text-2xl font-bold text-gray-900 mb-4">1. Create a <code class="bg-gray-100 px-2 py-1 rounded">bin</code> entry point</h3>
              
              <p class="mb-4">In your <code class="bg-gray-100 px-2 py-1 rounded">package.json</code>, add this line:</p>
              
              <div class="bg-gray-900 text-gray-100 p-4 rounded-lg mb-6 font-mono text-sm overflow-x-auto">
<span class="text-green-400">"bin"</span>: {<br>
&nbsp;&nbsp;<span class="text-green-400">"mcp-weather-server"</span>: <span class="text-yellow-400">"index.js"</span><br>
},
              </div>
              
              <p class="mb-6">This tells npm to treat <code class="bg-gray-100 px-2 py-1 rounded">index.js</code> as a command-line app called <code class="bg-gray-100 px-2 py-1 rounded">mcp-weather-server</code>.</p>

              <h3 class="text-2xl font-bold text-gray-900 mb-4">2. Add a shebang to the top of <code class="bg-gray-100 px-2 py-1 rounded">index.js</code></h3>
              
              <p class="mb-4">Right at the top of the file, above all the imports:</p>
              
              <div class="bg-gray-900 text-gray-100 p-4 rounded-lg mb-6 font-mono text-sm overflow-x-auto">
<span class="text-gray-400">#!/usr/bin/env node</span>
              </div>
              
              <p class="mb-6">This makes sure the script can run on all systems.</p>

              <h3 class="text-2xl font-bold text-gray-900 mb-4">3. Create a config file example</h3>
              
              <p class="mb-4">Since we're publishing it, our config file will look a bit different.</p>
              
              <div class="bg-gray-900 text-gray-100 p-4 rounded-lg mb-6 font-mono text-sm overflow-x-auto">
{<br>
&nbsp;&nbsp;<span class="text-green-400">"mcpServers"</span>: {<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="text-green-400">"weather"</span>: {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="text-green-400">"command"</span>: <span class="text-yellow-400">"npx"</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="text-green-400">"args"</span>: [<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="text-yellow-400">"mcp-weather-server"</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;}<br>
}
              </div>

              <h3 class="text-2xl font-bold text-gray-900 mb-4">4. Publish to npm</h3>
              
              <p class="mb-4"><strong>This is just a tutorial ‚Äî don't actually run the publish command unless you're shipping your own version.</strong> But if you were building your own app, you would run these to publish to npm.</p>
              
              <p class="mb-4">First, make sure you're logged in:</p>
              
              <div class="bg-gray-900 text-green-400 p-4 rounded-lg mb-6 font-mono text-sm overflow-x-auto">
npm login
              </div>
              
              <p class="mb-4">And then publish it:</p>
              
              <div class="bg-gray-900 text-green-400 p-4 rounded-lg mb-6 font-mono text-sm overflow-x-auto">
npm publish
              </div>
              
              <p class="mb-6">Anyone can now run your server with your config file!</p>

              <hr class="my-8 border-gray-300">

              <h2 class="text-3xl font-bold text-gray-900 mb-6">What's Next?</h2>
              
              <p class="mb-4">Now that you've got the basics, try branching out. Your AI client can use any tool ‚Äî as long as you define inputs and return something usable.</p>
              
              <p class="mb-4">Here are some ideas:</p>
              
              <ul class="mb-6 space-y-2">
                <li>Pull info from other APIs (Wikipedia, Crypto prices, NASA, anything)</li>
                <li>Automate stuff locally (play a sound, take a screenshot, launch apps)</li>
                <li>Build utilities (unit converter, joke fetcher, motivational quote machine)</li>
                <li>Fetch a random XKCD comic</li>
                <li>Turn on your smart lights</li>
                <li>Log thoughts to a text file</li>
                <li>Update you on the most recent news stories</li>
              </ul>

              <hr class="my-8 border-gray-300">

              <h2 class="text-3xl font-bold text-gray-900 mb-6">Submission requirements</h2>
              
              <p class="mb-4">To submit you must:</p>
              
              <ul class="mb-6 space-y-2">
                <li>Have all your code in a public GitHub repo</li>
                <li>Publish your server to npm</li>
                <li>Have a README in your GitHub repo with a description and installation instructions (including the config file)</li>
              </ul>
              
              <p class="mb-8">If you need any help, reach out to @samliu on Slack!</p>

              <div class="bg-emerald-50 border-l-4 border-emerald-400 p-6 mt-8">
                <h3 class="text-xl font-bold text-emerald-800 mb-2">Ready to Submit?</h3>
                <p class="text-emerald-700 mb-4">Once you've built your MCP tool and tested it, you can submit it to earn your $10 in AI credits!</p>
                <a
                  href="https://forms.hackclub.com/toolsmith-submit"
                  class="inline-flex items-center space-x-2 bg-emerald-500 hover:bg-emerald-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="2"
                    stroke="currentColor"
                    class="size-4"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"
                    />
                  </svg>
                  <span>Submit Your Tool</span>
                </a>
              </div>
            </div>
          </div>
        </div>
        <div
          class="absolute bottom-6 left-1/2 transform -translate-x-1/2 w-full max-w-5xl px-6"
        >
          <div
            class="bg-white rounded-full border border-gray-300 flex h-14 items-center text-lg"
          >
            <input
              id="chat-input"
              type="text"
              placeholder="Ask anything (ideas, help, etc.)"
              value=""
              class="placeholder-gray-400 grow mx-8 outline-0"
            />
            <button
              type="button"
              onclick="sendMessage()"
              class="bg-black rounded-full size-10 mx-2 text-white flex items-center justify-center"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 16 16"
                fill="currentColor"
                class="size-4"
              >
                <path
                  fill-rule="evenodd"
                  d="M8 14a.75.75 0 0 1-.75-.75V4.56L4.03 7.78a.75.75 0 0 1-1.06-1.06l4.5-4.5a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1-1.06 1.06L8.75 4.56v8.69A.75.75 0 0 1 8 14Z"
                  clip-rule="evenodd"
                />
              </path>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Copy to clipboard function
      function copyToClipboard() {
        const currentUrl = window.location.href;
        navigator.clipboard
          .writeText(currentUrl)
          .then(function () {
            alert("Page URL copied!");
          })
          .catch(function (err) {
            // Fallback for older browsers
            const textArea = document.createElement("textarea");
            textArea.value = currentUrl;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand("copy");
            document.body.removeChild(textArea);
            alert("Page URL copied!");
          });
      }

      // Mobile menu functionality
      const mobileMenuBtn = document.getElementById("mobile-menu-btn");
      const sidebar = document.getElementById("sidebar");

      function toggleSidebar() {
        sidebar.classList.toggle("-translate-x-full");
      }

      mobileMenuBtn.addEventListener("click", toggleSidebar);

      // Close sidebar when clicking on main content on mobile
      document.addEventListener("click", (e) => {
        if (
          window.innerWidth < 1024 &&
          !sidebar.contains(e.target) &&
          !mobileMenuBtn.contains(e.target)
        ) {
          sidebar.classList.add("-translate-x-full");
        }
      });

      // Chat functionality for guide page
      let chatHistory = [
        {
          role: "system",
          content: "You are helping users with the MCP Tool Building Guide. Here is the complete guide content:\n\n# Let's Build a Weather Tool with MCP and an AI Client\n\nWant to teach an AI how to check the weather? You're in the right place. This guide walks you through building a simple tool using the Model Context Protocol (MCP), which lets your code talk directly to AI assistants.\n\nWe'll use Claude Desktop as an example AI client in this guide because it has built-in support for MCP ‚Äî but the tool you build can work with any AI that understands MCP, like ChatGPT Desktop or Raycast AI, for example.\n\n---\n\n## Setup Hackatime\n\nYou'll need to use Hackatime to track your coding time. Hackatime works on all major code editors.\n\nSet it up with the instructions here: https://hackatime.hackclub.com\n\n---\n\n## What is MCP?\n\nIn short, MCP (Model Context Protocol) servers allow AI to connect to real tools. Think of it as USB ports for AI apps.\n\nHere's how it works:\n\n* You define what inputs your tool needs\n* You write a function that does something useful with those inputs\n* MCP acts as the bridge so the AI can understand how to use it\n\n---\n\n## Setting Up Your Project\n\nWe'll be writing this in JavaScript with NodeJS. You can install NodeJS from https://nodejs.org/\n\nI'm going to call my project `mcp-weather-server`.\n\nIn a new folder called your project name, let's initialize a project.\n\n```bash\nnpm init -y\n```\n\nInstall the MCP SDK:\n\n```bash\nnpm install @modelcontextprotocol/sdk\n```\n\n> If you're on an older Node version (<18.0.0), run `npm install node-fetch` as well.\n\n---\n\n## Writing Your Tool\n\nCreate a file called `index.js`. We'll build this step-by-step.\n\n### 1. Import the libraries\n\n```js\nimport { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\";\nimport { StdioServerTransport } from \"@modelcontextprotocol/sdk/server/stdio.js\";\nimport { z } from \"zod\";\n```\n\n### 2. Create the MCP server\n\n```js\nconst server = new McpServer({\n  name: \"mcp-weather-server\",\n  version: \"1.0.0\"\n});\n```\n\n### 3. Define what input the tool expects\n\nThe input schema defines what the AI should input to your tool.\n\nIn this case: a city name.\n\n```js\nconst inputSchema = {\n  city: z.string().describe(\"The city to get the weather for. Needs to be a big city.\")\n};\n```\n\n> Side note: You can make fields optional in the schema by using `.optional()` in Zod. For example: `z.string().optional()` would make that input not required. This can be useful if your tool supports multiple input paths or you want to provide fallback behavior.\n\n### 4. Write the function that does the work\n\n```js\nasync function getWeather({ city }) {\n  const response = await fetch(`https://goweather.xyz/weather/${city.toLowerCase()}`);\n  if (!response.ok) {\n    throw new Error(`Couldn't get weather for ${city}`);\n  }\n\n  const data = await response.json();\n\n  return {\n    content: [{ type: \"text\", text: JSON.stringify(data) }]\n  };\n}\n```\n\n> If you need to add additional fields, just expand the parameters of the function. For example: `getWeather({ city, isMetric })`.\n\n### 5. Register the tool\n\nNow connect the schema and the function together and register it to our server so it can be accessed.\n\n```js\nserver.registerTool(\"weather\", {\n  title: \"Weather Tool\",\n  description: \"Get the weather for a city\",\n  inputSchema,\n}, getWeather);\n```\n\n### 6. Start the MCP server\n\nThere are multiple transport methods for MCP servers (how your AI connects to the MCP server).\n\nWe'll be using StdioServerTransport, which works great locally.\n\n```js\nconst transport = new StdioServerTransport();\nawait server.connect(transport);\n```\n\n---\n\n## Testing it locally\n\nMCP comes with a really cool inspector. To run it, simply enter the following command:\n\n```bash\nnpx @modelcontextprotocol/inspector node index.js\n```\n\nYou'll get a URL in the console that you can open. Simply click the connect button on the bottom left!\n\n---\n\n## Testing It in Claude Desktop (or another AI Client)\n\nIf you're using Claude Desktop:\n\n1. Open settings found in the top left (not by clicking your user name)\n2. In the Developer tab, click \"Edit Config\" ‚Äî a file should pop up!\n3. Open the config file in VS Code or the editor of your choice\n4. We need to build a config file that tells Claude how to access our MCP server for local testing\n\n```json\n{\n  \"mcpServers\": {\n    \"weather\": {\n      \"command\": \"node\",\n      \"args\": [\n        \"/path/to/mcp-weather-server/index.js\"\n      ]\n    }\n  }\n}\n```\n\n> If you need environment variables (for API keys, configs, etc.), you can define them in the config like this: https://modelcontextprotocol.io/docs/tools/debugging#environment-variables\n\n5. Quit and re-open Claude Desktop\n6. If you go back to the Developer tab, your MCP server should show up\n7. Try it out! Ask Claude something like: \"What's the weather in Berlin?\"\n\nIf all goes well, Claude should show the result returned by your tool. Other AI clients that support MCP may offer similar functionality.\n\n---\n\n## Packaging and Publishing Your Tool\n\nWe need to package and publish our MCP server to make it easy for others to use.\n\n### 1. Create a `bin` entry point\n\nIn your `package.json`, add this line:\n\n```json\n\"bin\": {\n  \"mcp-weather-server\": \"index.js\"\n},\n```\n\nThis tells npm to treat `index.js` as a command-line app called `mcp-weather-server`.\n\n### 2. Add a shebang to the top of `index.js`\n\nRight at the top of the file, above all the imports:\n\n```js\n#!/usr/bin/env node\n```\n\nThis makes sure the script can run on all systems.\n\n### 3. Create a config file example\n\nSince we're publishing it, our config file will look a bit different.\n\n```json\n{\n  \"mcpServers\": {\n    \"weather\": {\n      \"command\": \"npx\",\n      \"args\": [\n        \"mcp-weather-server\"\n      ]\n    }\n  }\n}\n```\n\n### 4. Publish to npm\n\n**This is just a tutorial ‚Äî don't actually run the publish command unless you're shipping your own version.** But if you were building your own app, you would run these to publish to npm.\n\nFirst, make sure you're logged in:\n\n```bash\nnpm login\n```\n\nAnd then publish it:\n\n```bash\nnpm publish\n```\n\nAnyone can now run your server with your config file!\n\n---\n\n## What's Next?\n\nNow that you've got the basics, try branching out. Your AI client can use any tool ‚Äî as long as you define inputs and return something usable.\n\nHere are some ideas:\n\n* Pull info from other APIs (Wikipedia, Crypto prices, NASA, anything)\n* Automate stuff locally (play a sound, take a screenshot, launch apps)\n* Build utilities (unit converter, joke fetcher, motivational quote machine)\n* Fetch a random XKCD comic\n* Turn on your smart lights\n* Log thoughts to a text file\n* Update you on the most recent news stories\n\n---\n\n## Submission requirements\n\nTo submit you must:\n\n* Have all your code in a public GitHub repo\n* Publish your server to npm\n* Have a README in your GitHub repo with a description and installation instructions (including the config file)\n\nIf you need any help, reach out to @samliu on Slack!\n\nUse this complete guide content to provide detailed, specific help to users about building MCP tools. Reference exact code examples, steps, and sections when answering questions.",
        }
      ];

      async function sendMessage() {
        const input = document.getElementById("chat-input");
        const message = input.value.trim();

        if (!message) return;

        // Clear input
        input.value = "";

        // Add user message to guide
        addMessageToGuide(message, "user");

        // Show typing indicator
        showTypingIndicator();

        try {
          // Send to AI API
          const response = await fetch(
            "https://ai.hackclub.com/chat/completions",
            {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({
                model: "gpt-4o-mini",
                messages: [
                  {
                    role: "system",
                    content:
                      "You are a helpful assistant for the MCP Tool Building Guide. Help users understand MCP (Model Context Protocol), guide them through the building process, answer questions about the weather tool example, and provide assistance with any coding issues they might encounter. Be encouraging, technical when needed, and focus on practical help for building MCP tools. Your responses should be in plain text without formatting. Emojis are okay.",
                  },
                  ...chatHistory,
                  {
                    role: "user",
                    content: message,
                  },
                ],
                max_tokens: 500,
                temperature: 0.7,
              }),
            }
          );

          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }

          const data = await response.json();
          const aiMessage = data.choices[0].message.content;

          // Remove typing indicator
          hideTypingIndicator();

          // Add AI response to guide
          addMessageToGuide(aiMessage, "assistant");

          // Update chat history
          chatHistory.push(
            { role: "user", content: message },
            { role: "assistant", content: aiMessage }
          );

          // Keep only last 10 messages to manage context length
          if (chatHistory.length > 20) {
            chatHistory = chatHistory.slice(-20);
          }
        } catch (error) {
          console.error("Error sending message:", error);
          hideTypingIndicator();
          addMessageToGuide(
            "Sorry, I encountered an error. Please try again.",
            "assistant"
          );
        }
      }

      function addMessageToGuide(message, role) {
        const guideContainer = document.getElementById("guide-container");
        const messageDiv = document.createElement("div");

        if (role === "user") {
          messageDiv.className =
            "ml-auto py-2 px-4 bg-gray-100 rounded-2xl max-w-md mb-4 mt-8";
          messageDiv.innerHTML = `<p>${escapeHtml(message)}</p>`;
        } else {
          messageDiv.className = "space-y-1 py-6 mr-0 lg:mr-[25%] mb-4 mt-8";
          messageDiv.innerHTML = `<p>${escapeHtml(message)}</p>`;
        }

        guideContainer.appendChild(messageDiv);

        // Scroll to bottom with delay to ensure DOM is updated
        setTimeout(() => {
          const scrollContainer = guideContainer.parentElement;
          scrollContainer.scrollTop = scrollContainer.scrollHeight;
        }, 10);
      }

      function showTypingIndicator() {
        const guideContainer = document.getElementById("guide-container");
        const typingDiv = document.createElement("div");
        typingDiv.id = "typing-indicator";
        typingDiv.className = "space-y-1 py-6 mr-0 lg:mr-[25%] mb-4 mt-8";
        typingDiv.innerHTML = `
          <div class="flex items-center space-x-2">
            <div class="flex space-x-1">
              <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce"></div>
              <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.1s;"></div>
              <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.2s;"></div>
            </div>
            <span class="text-gray-500">Thinking...</span>
          </div>
        `;
        guideContainer.appendChild(typingDiv);
        setTimeout(() => {
          const scrollContainer = guideContainer.parentElement;
          scrollContainer.scrollTop = scrollContainer.scrollHeight;
        }, 10);
      }

      function hideTypingIndicator() {
        const typingIndicator = document.getElementById("typing-indicator");
        if (typingIndicator) {
          typingIndicator.remove();
        }
      }

      function escapeHtml(text) {
        const div = document.createElement("div");
        div.textContent = text;
        return div.innerHTML;
      }

      // Handle Enter key in input
      document
        .getElementById("chat-input")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") {
            sendMessage();
          }
        });
    </script>
  </body>
</html>
